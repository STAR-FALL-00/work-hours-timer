# Modern HUD ç»„ä»¶å±•ç¤º

> **ç‰ˆæœ¬**: v1.2.0  
> **åˆ›å»ºæ—¥æœŸ**: 2026-02-26  
> **çŠ¶æ€**: Phase 2 å®Œæˆ

---

## ğŸ“¦ ç»„ä»¶åº“æ¦‚è§ˆ

### å·²å®Œæˆç»„ä»¶ï¼ˆ7ä¸ªï¼‰

```
lib/ui/widgets/
â”œâ”€â”€ cards/
â”‚   â”œâ”€â”€ mission_card.dart       âœ… ä»»åŠ¡å¡ç‰‡
â”‚   â”œâ”€â”€ resource_capsule.dart   âœ… èµ„æºèƒ¶å›Š
â”‚   â”œâ”€â”€ quest_tile.dart         âœ… é¡¹ç›®åˆ—è¡¨é¡¹
â”‚   â”œâ”€â”€ kpi_card.dart           âœ… KPIæŒ‡æ ‡å¡ç‰‡
â”‚   â””â”€â”€ item_card.dart          âœ… å•†å“å¡ç‰‡
â”œâ”€â”€ buttons/
â”‚   â””â”€â”€ action_button.dart      âœ… æ“ä½œæŒ‰é’®
â”œâ”€â”€ feedback/
â”‚   â””â”€â”€ floating_text.dart      âœ… é£˜å­—åŠ¨ç”»
â””â”€â”€ modern_hud_widgets.dart     âœ… ç»Ÿä¸€å¯¼å‡º
```

---

## ğŸ¨ ç»„ä»¶è¯¦ç»†è¯´æ˜

### 1. MissionCard - ä»»åŠ¡å¡ç‰‡

**ç”¨é€”**: ä¸»é¡µæ ¸å¿ƒç»„ä»¶ï¼Œæ˜¾ç¤ºå½“å‰ä»»åŠ¡çš„æ‰€æœ‰å…³é”®ä¿¡æ¯

**ç‰¹æ€§**:
- é¡¹ç›®åç§° + ç‚¹å‡»åˆ‡æ¢
- BOSSè¡€æ¡ï¼ˆåŠ¨æ€é¢œè‰²ï¼‰
- å·¨å¤§è®¡æ—¶å™¨æ•°å­—
- çŠ¶æ€æŒ‡ç¤ºï¼ˆæˆ˜æ–—ä¸­/ä¼‘æ¯ä¸­ï¼‰
- å¥–åŠ±é¢„è§ˆ
- è¿å‡»æç¤º

**è§†è§‰æ•ˆæœ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš© å½“å‰ä»»åŠ¡                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“‹ é‡æ„ç™»å½•æ¨¡å—               â”‚
â”‚  HP: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 60%    â”‚
â”‚                                 â”‚
â”‚        00:45:32                â”‚
â”‚     ğŸŸ¢ æˆ˜æ–—ä¸­                   â”‚
â”‚                                 â”‚
â”‚  é¢„è®¡å¥–åŠ±: +45ğŸ’° +75â­         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»£ç ç¤ºä¾‹**:
```dart
MissionCard(
  projectName: 'é‡æ„ç™»å½•æ¨¡å—',
  bossProgress: 0.6,
  bossProgressText: '12h / 20h',
  timerText: '00:45:32',
  isWorking: true,
  statusText: 'ğŸŸ¢ æˆ˜æ–—ä¸­',
  predictedGold: 45,
  predictedExp: 75,
  comboHint: 'è¿ç»­å·¥ä½œ3å¤©ï¼Œå¥–åŠ±+20%',
  onProjectTap: () => _showProjectSelector(),
)
```

---

### 2. ResourceCapsule - èµ„æºèƒ¶å›Š

**ç”¨é€”**: æ˜¾ç¤ºé‡‘å¸/ç»éªŒå€¼ç­‰èµ„æºï¼Œå¸¦è¿›åº¦æ¡èƒŒæ™¯

**ç‰¹æ€§**:
- å›¾æ ‡ + æ•°å€¼
- å¯é€‰è¿›åº¦æ¡ï¼ˆæœ‰ä¸Šé™æ—¶ï¼‰
- æ¸å˜èƒŒæ™¯
- ç´§å‡‘è®¾è®¡

**è§†è§‰æ•ˆæœ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° 1,250     â”‚  â† æ— ä¸Šé™
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â­ 450/1000  â”‚  â† æœ‰ä¸Šé™ï¼Œå¸¦è¿›åº¦æ¡
â”‚ [â•â•â•â•â•â•â•â–‘â–‘â–‘] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»£ç ç¤ºä¾‹**:
```dart
// é‡‘å¸ï¼ˆæ— ä¸Šé™ï¼‰
ResourceCapsule(
  icon: Icons.monetization_on,
  value: 1250,
  color: AppColors.accent,
  label: 'é‡‘å¸',
)

// ç»éªŒå€¼ï¼ˆæœ‰ä¸Šé™ï¼‰
ResourceCapsule(
  icon: Icons.star,
  value: 450,
  maxValue: 1000,
  color: AppColors.expBar,
  label: 'ç»éªŒå€¼',
)
```

---

### 3. QuestTile - é¡¹ç›®åˆ—è¡¨é¡¹

**ç”¨é€”**: é¡¹ç›®åˆ—è¡¨ä¸­çš„å•ä¸ªé¡¹ç›®ï¼Œæ‚¬èµä»¤é£æ ¼

**ç‰¹æ€§**:
- æ€ªå…½å›¾æ ‡ï¼ˆæ ¹æ®é¡¹ç›®ç±»å‹ï¼‰
- é¡¹ç›®åç§°
- HPè¡€æ¡ï¼ˆè¿›åº¦ï¼‰
- ç´¯è®¡å·¥æ—¶
- å¿«é€Ÿæ“ä½œæŒ‰é’®

**è§†è§‰æ•ˆæœ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‰ é‡æ„ç™»å½•æ¨¡å—                 â”‚
â”‚    HP: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 45%         â”‚
â”‚    ç´¯è®¡å·¥æ—¶: 24h      [â–¶] [...] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»£ç ç¤ºä¾‹**:
```dart
QuestTile(
  projectName: 'é‡æ„ç™»å½•æ¨¡å—',
  icon: 'ğŸ‰',
  progress: 0.45,
  totalHours: 24,
  targetHours: 50,
  onStart: () => _startProject(project),
  onMore: () => _showProjectMenu(project),
)
```

---

### 4. KpiCard - KPIæŒ‡æ ‡å¡ç‰‡

**ç”¨é€”**: ç»Ÿè®¡é¡µé¢æ˜¾ç¤ºå…³é”®æŒ‡æ ‡

**ç‰¹æ€§**:
- å¤§å›¾æ ‡
- å¤§æ•°å€¼
- æ ‡ç­¾è¯´æ˜
- å¯é€‰å‰¯æ ‡é¢˜
- æ¸å˜èƒŒæ™¯

**è§†è§‰æ•ˆæœ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    â±ï¸    â”‚
â”‚    48h   â”‚
â”‚  æ€»è¾“å‡º  â”‚
â”‚  æœ¬å‘¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»£ç ç¤ºä¾‹**:
```dart
KpiCard(
  icon: Icons.timer,
  label: 'æ€»è¾“å‡º',
  value: '48h',
  subtitle: 'æœ¬å‘¨',
  accentColor: AppColors.primaryLight,
  onTap: () => _showDetails(),
)
```

---

### 5. ItemCard - å•†å“å¡ç‰‡

**ç”¨é€”**: å•†åº—ç½‘æ ¼å¸ƒå±€ä¸­çš„å•†å“å¡ç‰‡

**ç‰¹æ€§**:
- ç‰©å“å›¾æ ‡ï¼ˆemojiï¼‰
- ç‰©å“åç§°
- ä»·æ ¼æ˜¾ç¤º
- å·²æ‹¥æœ‰å¾½ç« 
- è£…å¤‡ä¸­æ ‡è¯†

**è§†è§‰æ•ˆæœ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘•    â”‚  â† å›¾æ ‡åŒºåŸŸï¼ˆæµ…ç°èƒŒæ™¯ï¼‰
â”‚  âœ…    â”‚  â† å·²æ‹¥æœ‰å¾½ç« 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚é»‘å®¢ç»¿  â”‚  â† åç§°
â”‚ğŸ’°5000  â”‚  â† ä»·æ ¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»£ç ç¤ºä¾‹**:
```dart
ItemCard(
  emoji: 'ğŸ‘•',
  name: 'é»‘å®¢ç»¿ä¸»é¢˜',
  price: 5000,
  isOwned: true,
  isEquipped: false,
  onTap: () => _showItemDetails(item),
)
```

---

### 6. ActionButton - æ“ä½œæŒ‰é’®

**ç”¨é€”**: ä¸»è¦æ“ä½œæŒ‰é’®ï¼Œå¸¦åŠ¨æ•ˆå’Œæ¸å˜èƒŒæ™¯

**ç‰¹æ€§**:
- ç‚¹å‡»ç¼©æ”¾åŠ¨æ•ˆ
- æ¸å˜èƒŒæ™¯
- å›¾æ ‡æ”¯æŒ
- åŠ è½½çŠ¶æ€
- å¤šç§ç±»å‹ï¼ˆä¸»è¦/æˆ˜æ–—/ä¼‘æ¯/é‡‘å¸ï¼‰

**è§†è§‰æ•ˆæœ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš”ï¸ ç»“æŸæˆ˜æ–—      â”‚  â† æˆ˜æ–—ç±»å‹ï¼ˆçº¢è‰²æ¸å˜ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â¸ï¸ æš‚åœ          â”‚  â† ä¸»è¦ç±»å‹ï¼ˆè“è‰²æ¸å˜ï¼‰
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä»£ç ç¤ºä¾‹**:
```dart
// æˆ˜æ–—æŒ‰é’®
ActionButton(
  text: 'ç»“æŸæˆ˜æ–—',
  icon: Icons.stop_rounded,
  type: ActionButtonType.combat,
  onPressed: () => _endWork(),
)

// ä¸»è¦æŒ‰é’®
ActionButton(
  text: 'å¼€å§‹å·¥ä½œ',
  icon: Icons.play_arrow_rounded,
  type: ActionButtonType.primary,
  onPressed: () => _startWork(),
)

// åŠ è½½çŠ¶æ€
ActionButton(
  text: 'ä¿å­˜ä¸­...',
  type: ActionButtonType.primary,
  isLoading: true,
  onPressed: null,
)
```

---

### 7. FloatingText - é£˜å­—åŠ¨ç”»

**ç”¨é€”**: æ˜¾ç¤ºè·å¾—å¥–åŠ±æ—¶çš„è§†è§‰åé¦ˆ

**ç‰¹æ€§**:
- å‘ä¸Šé£˜åŠ¨
- æ¸éšæ•ˆæœ
- ç¼©æ”¾åŠ¨ç”»
- ä¸‰ç§ç±»å‹ï¼ˆé‡‘å¸/ç»éªŒå€¼/å‡çº§ï¼‰
- ç®¡ç†å™¨æ”¯æŒ

**è§†è§‰æ•ˆæœ**:
```
      +100 ğŸ’°  â†‘
                â†‘  (å‘ä¸Šé£˜å¹¶æ¸éš)
```

**ä»£ç ç¤ºä¾‹**:
```dart
// æ˜¾ç¤ºé‡‘å¸é£˜å­—
FloatingTextManager.showGold(
  context,
  amount: 100,
);

// æ˜¾ç¤ºç»éªŒå€¼é£˜å­—
FloatingTextManager.showExp(
  context,
  amount: 50,
);

// æ˜¾ç¤ºå‡çº§é£˜å­—
FloatingTextManager.showLevelUp(
  context,
  level: 12,
);

// è‡ªå®šä¹‰ä½ç½®
FloatingTextManager.showGold(
  context,
  amount: 100,
  position: Offset(screenWidth / 2, screenHeight / 2),
);
```

---

## ğŸ¨ è®¾è®¡è§„èŒƒ

### é…è‰²æ–¹æ¡ˆ
```dart
// ä¸»è‰²è°ƒ
AppColors.primaryLight    // #4F46E5 (Deep Indigo)
AppColors.accent          // #F59E0B (Amber)
AppColors.combat          // #EF4444 (Coral Red)
AppColors.rest            // #10B981 (Emerald Green)

// èƒŒæ™¯è‰²
AppColors.backgroundLight // #F3F4F6 (Off-White)
AppColors.cardBackground  // #FFFFFF (Pure White)
```

### åœ†è§’
```dart
ModernHudTheme.cardBorderRadius  // 16.0
```

### é—´è·
```dart
ModernHudTheme.spacingXS  // 4.0
ModernHudTheme.spacingS   // 8.0
ModernHudTheme.spacingM   // 16.0
ModernHudTheme.spacingL   // 24.0
ModernHudTheme.spacingXL  // 32.0
```

### é˜´å½±
```dart
BoxShadow(
  color: AppColors.getShadow(brightness),
  blurRadius: 10,
  offset: Offset(0, 4),
)
```

---

## ğŸ“± ä½¿ç”¨æŒ‡å—

### 1. å¯¼å…¥ç»„ä»¶åº“
```dart
import 'package:work_hours_timer/ui/widgets/modern_hud_widgets.dart';
```

### 2. å¯¼å…¥ä¸»é¢˜
```dart
import 'package:work_hours_timer/ui/theme/app_colors.dart';
import 'package:work_hours_timer/ui/theme/app_text_styles.dart';
import 'package:work_hours_timer/ui/theme/modern_hud_theme.dart';
```

### 3. ä½¿ç”¨ç»„ä»¶
```dart
class MyPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        children: [
          // ä½¿ç”¨ä»»åŠ¡å¡ç‰‡
          MissionCard(
            timerText: '00:45:32',
            isWorking: true,
          ),
          
          // ä½¿ç”¨æ“ä½œæŒ‰é’®
          ActionButton(
            text: 'å¼€å§‹å·¥ä½œ',
            onPressed: () {},
          ),
        ],
      ),
    );
  }
}
```

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### å“åº”å¼æ”¯æŒ
æ‰€æœ‰ç»„ä»¶éƒ½æ”¯æŒäº®è‰²/æš—è‰²æ¨¡å¼ï¼š
```dart
final brightness = Theme.of(context).brightness;
final color = AppColors.getPrimary(brightness);
```

### åŠ¨ç”»æ€§èƒ½
- ä½¿ç”¨ `SingleTickerProviderStateMixin`
- ç¡¬ä»¶åŠ é€Ÿï¼ˆ`Transform`ï¼‰
- é¿å…è¿‡åº¦é‡å»º

### å¯è®¿é—®æ€§
- è¯­ä¹‰åŒ–æ ‡ç­¾
- åˆç†çš„ç‚¹å‡»åŒºåŸŸ
- é«˜å¯¹æ¯”åº¦é…è‰²

---

## ğŸš€ ä¸‹ä¸€æ­¥

### Phase 3: ä¸»é¡µé‡æ„
ä½¿ç”¨è¿™äº›ç»„ä»¶é‡æ„ä¸»é¡µï¼š
1. é¡¶éƒ¨çŠ¶æ€æ ï¼ˆResourceCapsuleï¼‰
2. ä¸­å¤®ä»»åŠ¡å¡ç‰‡ï¼ˆMissionCardï¼‰
3. åº•éƒ¨æ“ä½œæ ï¼ˆActionButtonï¼‰
4. å¥–åŠ±åŠ¨ç”»ï¼ˆFloatingTextï¼‰

### åç»­ä¼˜åŒ–
1. æ·»åŠ æ›´å¤šåŠ¨æ•ˆ
2. ä¼˜åŒ–æ€§èƒ½
3. å¢åŠ å•å…ƒæµ‹è¯•
4. å®Œå–„æ–‡æ¡£

---

**åˆ›å»ºæ—¥æœŸ**: 2026-02-26  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ  
**çŠ¶æ€**: âœ… Phase 2 å®Œæˆ
