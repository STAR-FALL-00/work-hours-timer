# Work Hours Timer v3.0 - 设计规范文档

**版本**: v3.0  
**日期**: 2026-02-27  
**设计风格**: 科幻 HUD + 像素艺术  
**参考**: 崩坏：星穹铁道

---

## 🎨 设计理念

### 核心原则
1. **原生优先** - 充分利用 Windows 11 原生特效
2. **性能至上** - 流畅动画，低资源占用
3. **反差萌** - 科幻主窗口 + 像素挂件
4. **不打扰** - 挂件透明穿透，不影响工作

---

## 🖼️ 视觉风格

### 主窗口：科幻 HUD
**灵感来源**: 崩坏：星穹铁道手机菜单

**特点**:
- 深色背景 + 磨砂效果
- 几何线条装饰
- 发光边框
- 数字滚动动画
- 卡片式布局

### 挂件窗口：像素艺术
**灵感来源**: 复古游戏

**特点**:
- 8-bit 像素风格
- 简单的帧动画
- 明亮的色彩
- 可爱的角色

---

## 🎨 调色板

### 主色调
```css
/* 深空蓝 - 主背景 */
#1A1A2E

/* 深紫蓝 - 次级背景 */
#16213E

/* 深蓝灰 - 卡片背景 */
#0F3460
```

### 强调色
```css
/* 金币色 - 主要强调 */
#FFD700

/* 琥珀色 - 次要强调 */
#FFA500

/* 天蓝色 - 信息提示 */
#4A90E2
```

### 功能色
```css
/* 成功绿 */
#2ECC71

/* 警告橙 */
#F39C12

/* 危险红 */
#FF4757

/* 信息蓝 */
#3498DB
```

### 文本色
```css
/* 主文本 - 纯白 */
#FFFFFF

/* 次级文本 - 灰白 */
#A0A0B0

/* 禁用文本 - 深灰 */
#5A5A5A
```

---

## 🔤 字体规范

### 字体家族

#### 英文/数字
**Poppins**
- Regular: 正文
- Medium: 标题
- Bold: 强调
- ExtraBold: 大标题

**使用场景**:
```xml
<!-- 计时器数字 -->
<TextBlock FontFamily="Poppins" FontWeight="ExtraBold" FontSize="48"/>

<!-- 标题 -->
<TextBlock FontFamily="Poppins" FontWeight="Bold" FontSize="24"/>

<!-- 正文 -->
<TextBlock FontFamily="Poppins" FontWeight="Regular" FontSize="14"/>
```

#### 中文
**MiSans** (小米字体)
- Regular: 正文
- Medium: 标题
- Bold: 强调

**使用场景**:
```xml
<!-- 中文标题 -->
<TextBlock FontFamily="MiSans" FontWeight="Bold" FontSize="20"/>

<!-- 中文正文 -->
<TextBlock FontFamily="MiSans" FontWeight="Regular" FontSize="14"/>
```

#### 像素字体
**Zpix** (最像素)
- 仅用于挂件窗口

**使用场景**:
```xml
<!-- 挂件文字 -->
<TextBlock FontFamily="Zpix" FontSize="12"/>
```

### 字号规范
```
超大标题: 48px (计时器)
大标题:   32px (页面标题)
标题:     24px (卡片标题)
副标题:   20px (次级标题)
正文:     14px (普通文本)
小字:     12px (辅助信息)
```

---

## 📐 布局规范

### 主窗口布局

#### 尺寸
- 宽度: 340px (固定)
- 高度: 90% 屏幕高度
- 位置: 屏幕右侧居中

#### 内边距
```
容器内边距: 16px
卡片内边距: 12px
按钮内边距: 12px 24px
```

#### 间距
```
大间距: 32px (模块之间)
中间距: 16px (卡片之间)
小间距: 8px  (元素之间)
```

#### 圆角
```
大圆角: 12px (卡片)
中圆角: 8px  (按钮)
小圆角: 4px  (输入框)
```

### 挂件窗口布局

#### 尺寸
- 宽度: 240px
- 高度: 120px
- 位置: 右下角 (可拖拽)

#### 内边距
```
容器内边距: 8px
```

---

## 🎭 组件设计

### 1. 计时器显示

**设计**:
```xml
<StackPanel>
    <!-- 巨大的数字 -->
    <TextBlock Text="08:30:45"
               FontFamily="Poppins"
               FontWeight="ExtraBold"
               FontSize="48"
               Foreground="#FFD700"
               HorizontalAlignment="Center"/>
    
    <!-- 状态文字 -->
    <TextBlock Text="工作中..."
               FontSize="14"
               Foreground="#A0A0B0"
               HorizontalAlignment="Center"
               Margin="0,8,0,0"/>
</StackPanel>
```

**动画**: 数字滚动效果

---

### 2. 项目卡片

**设计**:
```xml
<Border Background="#0F3460"
        BorderBrush="#FFD700"
        BorderThickness="2"
        CornerRadius="12"
        Padding="12">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        
        <!-- 项目图标 -->
        <Ellipse Grid.Column="0"
                 Width="40" Height="40"
                 Fill="#FF5733"/>
        
        <!-- 项目信息 -->
        <StackPanel Grid.Column="1" Margin="12,0,0,0">
            <TextBlock Text="项目名称"
                       FontWeight="Bold"
                       FontSize="16"
                       Foreground="White"/>
            <TextBlock Text="120 小时"
                       FontSize="12"
                       Foreground="#A0A0B0"/>
        </StackPanel>
        
        <!-- 进度条 -->
        <ProgressBar Grid.Column="2"
                     Width="60"
                     Value="75"
                     Maximum="100"/>
    </Grid>
</Border>
```

**交互**: 
- Hover: 边框发光
- Click: 选中高亮

---

### 3. 资源胶囊

**设计**:
```xml
<Border Background="#16213E"
        CornerRadius="20"
        Padding="12,6">
    <StackPanel Orientation="Horizontal">
        <!-- 图标 -->
        <TextBlock Text="💰"
                   FontSize="16"
                   VerticalAlignment="Center"/>
        
        <!-- 数值 -->
        <TextBlock Text="1,500"
                   FontFamily="Poppins"
                   FontWeight="Bold"
                   FontSize="16"
                   Foreground="#FFD700"
                   Margin="8,0,0,0"
                   VerticalAlignment="Center"/>
    </StackPanel>
</Border>
```

**动画**: 数值变化时滚动

---

### 4. 行动按钮

**设计**:
```xml
<Button Content="开始工作"
        Background="#FFD700"
        Foreground="#1A1A2E"
        FontFamily="Poppins"
        FontWeight="Bold"
        FontSize="16"
        Padding="24,12"
        BorderThickness="0"
        CornerRadius="8">
    <Button.Effect>
        <DropShadowEffect Color="#FFD700"
                          BlurRadius="20"
                          ShadowDepth="0"
                          Opacity="0.5"/>
    </Button.Effect>
</Button>
```

**状态**:
- Normal: 金色背景
- Hover: 发光增强
- Pressed: 轻微缩小
- Disabled: 灰色半透明

---

### 5. 统计图表

**折线图**:
```xml
<lvc:CartesianChart>
    <lvc:CartesianChart.Series>
        <lvc:LineSeries Values="{Binding WorkHours}"
                        Stroke="#4A90E2"
                        StrokeThickness="3"
                        Fill="#204A90E2"
                        PointGeometry="{x:Null}"/>
    </lvc:CartesianChart.Series>
</lvc:CartesianChart>
```

**柱状图**:
```xml
<lvc:CartesianChart>
    <lvc:CartesianChart.Series>
        <lvc:ColumnSeries Values="{Binding DailyHours}"
                          Fill="#FFD700"
                          MaxColumnWidth="40"/>
    </lvc:CartesianChart.Series>
</lvc:CartesianChart>
```

---

### 6. 挂件 - 勇者模式

**布局**:
```
┌─────────────────────────────┐
│  🤺 勇者    ▓▓▓▓▓░░░  👾 Boss │
│           HP: 400/5000       │
└─────────────────────────────┘
```

**动画**:
- 勇者: Idle (待机) / Attack (攻击)
- Boss: Idle (待机) / Hit (受击)
- 血条: 平滑减少

---

### 7. 挂件 - 跑酷模式

**布局**:
```
┌─────────────────────────────┐
│         🐱                   │
│  ▓▓▓▓▓▓▓▓▓░░░░░░░░░░░░░░░   │
└─────────────────────────────┘
```

**动画**:
- 猫咪: Run (奔跑) / Sleep (睡觉)
- 进度条: 从左到右填充

---

## 🎬 动画规范

### 过渡动画

#### 淡入淡出
```xml
<Storyboard>
    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                     From="0" To="1"
                     Duration="0:0:0.3"
                     EasingFunction="{StaticResource EaseInOutQuad}"/>
</Storyboard>
```

#### 滑入滑出
```xml
<Storyboard>
    <DoubleAnimation Storyboard.TargetProperty="(TranslateTransform.X)"
                     From="340" To="0"
                     Duration="0:0:0.3"
                     EasingFunction="{StaticResource EaseInOutQuad}"/>
</Storyboard>
```

### 数值动画

#### 金币滚动
```csharp
// 从旧值滚动到新值
AnimateNumber(oldValue, newValue, duration: 500ms);
```

#### 飘字效果
```xml
<Storyboard>
    <!-- 向上移动 -->
    <DoubleAnimation Storyboard.TargetProperty="(TranslateTransform.Y)"
                     From="0" To="-50"
                     Duration="0:0:1"/>
    
    <!-- 淡出 -->
    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                     From="1" To="0"
                     Duration="0:0:1"/>
</Storyboard>
```

### 交互动画

#### 按钮点击
```xml
<Storyboard>
    <!-- 缩小 -->
    <DoubleAnimation Storyboard.TargetProperty="(ScaleTransform.ScaleX)"
                     To="0.95"
                     Duration="0:0:0.1"/>
    <DoubleAnimation Storyboard.TargetProperty="(ScaleTransform.ScaleY)"
                     To="0.95"
                     Duration="0:0:0.1"/>
</Storyboard>
```

#### 卡片 Hover
```xml
<Storyboard>
    <!-- 发光增强 -->
    <DoubleAnimation Storyboard.TargetProperty="(DropShadowEffect.BlurRadius)"
                     To="30"
                     Duration="0:0:0.2"/>
</Storyboard>
```

---

## 🖼️ 图标规范

### 图标库
使用 **Segoe Fluent Icons** (Windows 11 内置)

### 常用图标
```
⏱️ Timer
📊 Stats
⚙️ Settings
🚀 Start
⏸️ Pause
⏹️ Stop
💰 Gold
⭐ Experience
🎯 Achievement
📁 Project
```

### 图标尺寸
```
大图标: 32px
中图标: 24px
小图标: 16px
```

---

## 📱 响应式设计

### 主窗口
- 宽度固定 340px
- 高度自适应屏幕 (90%)
- 内容滚动

### 挂件窗口
- 尺寸固定 240x120px
- 不支持缩放

---

## ♿ 无障碍设计

### 对比度
- 文本与背景对比度 ≥ 4.5:1
- 大文本对比度 ≥ 3:1

### 键盘导航
- 所有交互元素支持 Tab 导航
- 焦点可见
- 支持快捷键

### 屏幕阅读器
- 所有元素有 AutomationProperties.Name
- 图标有文字说明

---

## 🎨 主题系统

### 深色主题 (默认)
```xml
<ResourceDictionary>
    <SolidColorBrush x:Key="Background" Color="#1A1A2E"/>
    <SolidColorBrush x:Key="Surface" Color="#16213E"/>
    <SolidColorBrush x:Key="Primary" Color="#FFD700"/>
    <SolidColorBrush x:Key="TextPrimary" Color="#FFFFFF"/>
</ResourceDictionary>
```

### 浅色主题 (可选)
```xml
<ResourceDictionary>
    <SolidColorBrush x:Key="Background" Color="#F5F5F5"/>
    <SolidColorBrush x:Key="Surface" Color="#FFFFFF"/>
    <SolidColorBrush x:Key="Primary" Color="#FF9800"/>
    <SolidColorBrush x:Key="TextPrimary" Color="#1A1A2E"/>
</ResourceDictionary>
```

---

## 📐 设计资源

### 字体下载
- Poppins: [Google Fonts](https://fonts.google.com/specimen/Poppins)
- MiSans: [小米官网](https://hyperos.mi.com/font)
- Zpix: [GitHub](https://github.com/SolidZORO/zpix-pixel-font)

### 像素素材
- [itch.io](https://itch.io/game-assets/free/tag-pixel-art)
- [OpenGameArt](https://opengameart.org/)

### 设计工具
- Figma (UI 设计)
- Blend for Visual Studio (XAML 设计)
- Aseprite (像素动画)

---

## ✅ 设计检查清单

### 视觉
- [ ] 颜色符合调色板
- [ ] 字体使用正确
- [ ] 间距统一
- [ ] 圆角一致

### 交互
- [ ] 所有按钮有 Hover 状态
- [ ] 所有交互有反馈
- [ ] 动画流畅
- [ ] 响应及时

### 无障碍
- [ ] 对比度达标
- [ ] 支持键盘导航
- [ ] 屏幕阅读器友好

---

**设计负责人**: Kiro AI Assistant  
**文档版本**: v1.0  
**最后更新**: 2026-02-27
