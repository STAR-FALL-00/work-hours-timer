# 快速测试动画和时间血条

## 🚀 快速启动

### 方法 1: 使用批处理文件
```bash
cd wpf_app
.\build-and-run.bat
```

### 方法 2: 手动启动
```bash
cd wpf_app
dotnet run --project WorkHoursTimer/WorkHoursTimer.csproj
```

## 🎮 测试步骤

### 1. 测试动画切换（5秒切换）
1. 启动应用
2. 在主窗口点击"开始工作"按钮
3. 观察挂件窗口：
   - ✅ 勇者应该在攻击和跑步动画之间切换
   - ✅ Boss 应该在受击和死亡动画之间切换
   - ✅ 每 5 秒切换一次
   - ✅ 动画流畅，无闪烁

### 2. 测试时间血条
根据当前时间测试：

#### 如果现在是 9:00 之前
- ✅ Boss 血条应该是满的（100%）
- ✅ 血条应该是红色，横跨整个宽度

#### 如果现在是 9:00-18:00 之间
- ✅ Boss 血条应该根据时间减少
- ✅ 例如：12:00（中午）血条应该约 66%
- ✅ 例如：15:00（下午3点）血条应该约 33%

#### 如果现在是 18:00 之后
- ✅ Boss 血条应该是空的（0%）
- ✅ 表示已经下班，Boss 被击败

### 3. 测试状态切换
1. **开始工作**
   - 点击"开始工作"
   - ✅ 勇者切换到攻击/跑步动画
   - ✅ Boss 切换到受击/死亡动画
   - ✅ 动画开始每 5 秒切换

2. **暂停工作**
   - 点击"暂停"
   - ✅ 勇者切换回待机动画
   - ✅ Boss 切换回待机动画
   - ✅ 动画停止切换

3. **继续工作**
   - 点击"继续"
   - ✅ 动画再次开始切换

4. **停止工作**
   - 点击"停止"
   - ✅ 动画切换回待机
   - ✅ 血条重置（但会立即根据当前时间重新计算）

## 🔍 观察要点

### 动画质量
- [ ] 像素风格清晰（不模糊）
- [ ] 帧与帧之间过渡流畅
- [ ] 没有闪烁或卡顿
- [ ] 角色大小合适（96x96）

### 血条行为
- [ ] 血条宽度随时间变化
- [ ] 血条颜色正确（红色）
- [ ] 血条位置正确（底部横跨）
- [ ] 血条更新平滑

### 窗口外观
- [ ] 背景完全透明
- [ ] 没有多余的文字
- [ ] 勇者和 Boss 并排在上方
- [ ] 血条在下方

## 🐛 常见问题

### 问题 1: 动画不切换
**症状**: 勇者或 Boss 一直播放同一个动画

**解决方案**:
1. 确认已点击"开始工作"
2. 等待 5 秒观察是否切换
3. 检查控制台是否有错误信息

### 问题 2: 血条不变化
**症状**: Boss 血条一直是 100% 或 0%

**解决方案**:
1. 检查系统时间是否正确
2. 确认当前时间是否在 9:00-18:00 之间
3. 点击"开始工作"触发更新

### 问题 3: 动画闪烁或卡顿
**症状**: 动画播放不流畅

**解决方案**:
1. 关闭其他占用 CPU 的程序
2. 检查是否有多个挂件窗口打开
3. 重启应用

### 问题 4: 看不到角色
**症状**: 窗口是透明的，但看不到角色

**解决方案**:
1. 检查资源文件是否正确编译
2. 重新编译项目：`dotnet build --configuration Debug`
3. 查看控制台输出的调试信息

## 📊 性能检查

### CPU 占用
- 正常情况：1-3%
- 如果超过 10%，可能有问题

### 内存占用
- 正常情况：50-100 MB
- 如果持续增长，可能有内存泄漏

### 检查方法
1. 打开任务管理器
2. 找到 WorkHoursTimer.exe
3. 观察 CPU 和内存占用

## 🎯 预期结果

如果一切正常，你应该看到：
1. ✅ 两个像素角色在透明窗口中
2. ✅ 工作时角色动作每 5 秒切换
3. ✅ Boss 血条根据当前时间显示进度
4. ✅ 动画流畅，无闪烁
5. ✅ 窗口可拖动，右键有菜单

## 📝 反馈

如果发现问题，请记录：
1. 问题描述
2. 当前时间
3. 操作步骤
4. 控制台输出（如果有）
5. 截图（如果可能）

## 🎉 成功标志

当你看到：
- 勇者在攻击和跑步之间切换
- Boss 在受击和死亡之间切换
- 血条随时间减少（如果在工作时间内）
- 一切流畅运行

恭喜！动画系统和时间血条已经完美运行！🎊
